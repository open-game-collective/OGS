---
import { assertRouteName } from '@explorers-club/utils';
import { HomeScene } from '../components/HomeScene';
import Layout from '../layouts/Layout.astro';
import { getRouteProps } from '../routing';

const routeProps = getRouteProps(Astro.url);
assertRouteName(routeProps, 'Home');

const { accessToken, connectionId } = Astro.locals;
---

<Layout title="Strikers: The Beautiful Trading Card Game™️">
  <HomeScene
    client:only
    apiServerUrl={`${
      import.meta.env.PUBLIC_API_WS_SERVER_URL
    }/?accessToken=${accessToken}`}
    connectionId={connectionId}
    initialRouteProps={routeProps}
  />
</Layout>
